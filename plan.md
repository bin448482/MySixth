# 系统说明页面开发计划

## 1. 页面设计目标
- 全面展示应用信息和价值主张
- 提供清晰、透明的使用指南
- 建立用户信任和应用可信度
- 创造用户与应用的深度连接

## 2. 页面内容架构

### 2.1 应用基本信息
- [x] 应用名称：神秘塔罗牌
- [x] 版本号：1.0.0
- [x] 开发团队信息
- [x] 应用简介和使命声明
  - 愿景：为用户提供深入、个性化的塔罗牌洞察
  - 使命：结合传统塔罗智慧与现代AI技术，帮助用户探索内心世界

### 2.2 功能模块介绍
- [x] 占卜功能详细说明
  - 离线占卜流程
  - AI智能占卜特性
  - 多样化的塔罗牌阵
- [x] 卡牌说明模块
  - 详细解读每张塔罗牌的象征意义
  - 提供历史和文化背景
- [x] 历史记录功能
  - 保存个人占卜历史
  - 追踪个人成长和洞察

### 2.3 技术栈信息
- [x] 框架：Expo React Native
- [x] 编程语言：TypeScript
- [x] 主要依赖库列表
- [x] 性能和兼容性说明
  - 跨平台支持（iOS、Android）
  - 高性能渲染
  - 低资源消耗

### 2.4 用户积分与充值管理（精简版）
- 定义与用途
  - 积分仅作为AI大模型调用的余额，不用于其他权益或活动
  - 国内结算：1 积分 = 1 元人民币
  - 海外结算：按各商店本币定价，服务端换算为积分（四舍五入到“分”）
- 充值方式与地域
  - 国内（iOS/Android/Web）：微信支付、支付宝
  - 海外（iOS/Android）：原生内购（iOS Apple IAP、Android Google Play Billing）
  - 说明：海外不接入第三方支付（如 Stripe）
- 套餐建议
  - 国内（RMB）：10 / 30 / 50 / 100 / 300 / 500（元）→ 等额积分
  - 海外（本币）：$1.99 / $4.99 / $9.99 / $19.99 / $49.99 / $99.99（服务端换算积分）
- 核心流程（摘要）
  - 选择套餐 → 发起支付/内购 → 服务端验证（签名/收据/Token）→ 幂等发放积分 → 前端刷新余额与结果页
- 记录与查询
  - 充值记录展示：时间、渠道、金额、本次积分、状态
  - 余额展示：当前积分余额与最近一笔到账信息
- 参考文档
  - 详细方案见 `recharge_design.md`

### 2.5 使用声明
- [x] 应用目的
  - 提供个人成长和自我探索的工具
  - 辅助心理咨询和个人洞察
  - 娱乐性和启发性体验
- [x] 免责声明
  - 塔罗牌解读仅供参考，不构成医学、法律、金融等专业建议
  - 不替代心理咨询与专业诊断
  - 用户需对自身决策负责
  - 未成年人使用需监护人同意
- [x] 使用建议和注意事项
  - 保持开放和反思的心态
  - 不过度依赖占卜结果
  - 理性看待占卜内容
  - 尊重个人意志和选择

### 2.6 隐私政策
- [x] 数据收集说明（最小化、必要性原则）
- [x] 数据使用方式（用于改进体验与个性化，不出售数据）
- [x] 用户数据保护承诺（加密、审计、可导出与删除）

## 3. 交互设计
- [x] 返回主页按钮
- [x] 可滚动内容区
- [x] 响应式布局
- [x] 动画和过渡效果
  - 柔和的页面切换
  - 交互反馈动画

## 4. 额外功能
- [x] 版本更新检查机制
- [x] 用户反馈渠道
- [x] 联系方式
- [x] 帮助和支持入口

## 5. 开发实施步骤
1. 设计页面路由 `/settings`
2. 创建 `settings.tsx` 页面组件
3. 编写页面内容和文案
4. 实现页面样式和布局
5. 添加交互动画
6. 进行兼容性测试
7. 代码审查和优化
8. 充值/内购接入（分地域、分平台）
9. 回调与验证服务、积分发放幂等实现
10. 账单记录与展示
11. 系统测试与发布

## 6. 验收标准
- [x] 信息完整准确
- [x] 界面美观直观
- [x] 交互流畅自然
- [x] 适配不同设备
- [x] 无明显性能问题
- [x] 充值流程可靠（成功到账≤5秒，失败不发放）
- [x] 幂等与对账可验证（重复回调不重复发放，记录可查）

## 7. 风险和挑战
- 保持信息简洁与可读性
- 跨平台一致性与商店合规（Apple/Google 内购政策）
- 支付回调安全（验签、金额校验、订单状态机）
- 汇率/定价一致性（服务端统一换算与展示对齐）